<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My List - My Account</title>
<link rel="stylesheet" href="style.css">

<style>
    .pwd-wrap { position: relative; }

    .eye-icon {
        width: 20px;
        height: 20px;
        position: absolute;
        right: 14px;
        top: 50%;
        transform: translateY(-50%);
        cursor: pointer;
        opacity: 0;
        transition: 0.2s;
        pointer-events: none;
    }

    .eye-icon.visible {
        opacity: 0.7;
        pointer-events: auto;
    }

    .eye-icon.visible:hover {
        opacity: 1;
    }
</style>
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar">
    <div class="nav-title">My List</div>

    <div class="nav-center">
        <a href="tasks.html" class="nav-link">Tasks</a>
        <a href="analytics.html" class="nav-link">Analytics</a>
        <a href="contact.html" class="nav-link">Contact</a>
        <a href="about.html" class="nav-link">About</a>
    </div>

    <button class="profile-btn" onclick="location.href='profile.html'">
        <span id="navAvatarEmoji">üë§</span>
    </button>
</nav>

<div class="page-container">
    <div class="card">

        <!-- Tabs -->
        <div class="auth-tabs" id="authTabs">
            <button id="tabLogin" class="auth-tab active" onclick="showAuthTab('login')">Login</button>
            <button id="tabCreate" class="auth-tab" onclick="showAuthTab('create')">Create Account</button>
        </div>

        <!-- LOGIN -->
        <div id="loginBox">
            <label>Email</label>
            <input type="email" id="loginEmail" class="input-field">

            <label>Password</label>
            <div class="pwd-wrap">
                <input type="password" id="loginPass" class="input-field pwd-field">

 <svg class="eye-icon" onclick="togglePwd(this)" viewBox="0 0 24 24">
    <path class="eye-shape" fill="none" stroke="#6a5ea0" stroke-width="2" stroke-linecap="round"
          d="M3 12 C 7 6, 17 6, 21 12" />
    <circle class="eye-ball" cx="12" cy="12" r="3" fill="none" stroke="#6a5ea0" stroke-width="2" />
    <path class="eye-line" fill="none" stroke="#6a5ea0" stroke-width="2" stroke-linecap="round"
          d="M5 5 L19 19" />
</svg>










            </div>

            <button class="btn-primary full-btn" onclick="doLogin()">Login</button>
        </div>

        <!-- CREATE ACCOUNT -->
        <div id="createBox" style="display:none;margin-top:14px;">
            
            <div class="profile-avatar-big" id="createAvatar"><span>üë§</span></div>

            <div style="text-align:center;margin-bottom:10px;">
                <label class="profile-upload-btn">
                    üì∑ Choose Image
                    <input type="file" id="createImageInput" accept="image/*" style="display:none;">
                </label>
            </div>

            <label>Full Name</label>
            <input type="text" id="regName" class="input-field">

            <label>Email</label>
            <input type="email" id="regEmail" class="input-field">

            <label>Date of Birth</label>
            <input type="date" id="regBirth" class="input-field">

            <label>Gender</label>
            <select id="regGender" class="input-field">
                <option value="other">Other</option>
                <option value="female">Female</option>
                <option value="male">Male</option>
            </select>

            <label>Password</label>
            <div class="pwd-wrap">
                <input type="password" id="regPass" class="input-field pwd-field">

<svg class="eye-icon" onclick="togglePwd(this)" viewBox="0 0 24 24">
    <path class="eye-shape" fill="none" stroke="#6a5ea0" stroke-width="2" stroke-linecap="round"
          d="M3 12 C 7 6, 17 6, 21 12" />
    <circle class="eye-ball" cx="12" cy="12" r="3" fill="none" stroke="#6a5ea0" stroke-width="2" />
    <path class="eye-line" fill="none" stroke="#6a5ea0" stroke-width="2" stroke-linecap="round"
          d="M5 5 L19 19" />
</svg>










            </div>

            <label>Confirm Password</label>
            <div class="pwd-wrap">
                <input type="password" id="regPass2" class="input-field pwd-field">

    
 <svg class="eye-icon" onclick="togglePwd(this)" viewBox="0 0 24 24">
    <path class="eye-shape" fill="none" stroke="#6a5ea0" stroke-width="2" stroke-linecap="round"
          d="M3 12 C 7 6, 17 6, 21 12" />
    <circle class="eye-ball" cx="12" cy="12" r="3" fill="none" stroke="#6a5ea0" stroke-width="2" />
    <path class="eye-line" fill="none" stroke="#6a5ea0" stroke-width="2" stroke-linecap="round"
          d="M5 5 L19 19" />
</svg>









            </div>

            <button class="btn-primary full-btn" onclick="doRegister()">Create Account</button>
        </div>

        <!-- ACCOUNT PAGE -->
        <div id="accountBox" style="display:none;margin-top:10px;" class="account-card">

            <div class="profile-avatar-big" id="accountAvatar"></div>
            <div class="acc-name" id="accountName"></div>
            <div class="acc-email" id="accountEmail"></div>

            <button class="edit-profile-btn" type="button" onclick="window.location.href='edit-profile.html'">
                Edit Profile
            </button>

            <div class="account-actions">
                <button class="btn-secondary full-btn" type="button" onclick="logout()">Log out</button>
                <button class="btn-danger full-btn" type="button" onclick="deleteAccount()">Delete Account</button>
            </div>

        </div>

    </div>
</div>

<script src="app.js"></script>

<script>

function togglePwd(eyeEl) {
    const input = eyeEl.parentElement.querySelector("input");
    const line = eyeEl.querySelector(".eye-line"); // ÿÆÿ∑ ÿßŸÑÿ•ÿ∫ŸÑÿßŸÇ

    if (input.type === "password") {
        input.type = "text";
        line.style.display = "none"; // ÿ¥ŸäŸÑ ÿßŸÑÿÆÿ∑ ‚Üí ÿπŸäŸÜ ŸÖŸÅÿ™Ÿàÿ≠ÿ©
    } else {
        input.type = "password";
        line.style.display = "block"; // ÿ±ÿ¨Ÿëÿπ ÿßŸÑÿÆÿ∑ ‚Üí ÿπŸäŸÜ ŸÖÿ∫ŸÑŸÇÿ©
    }

    input.focus(); 
}











/* ÿπŸäŸÜ ÿ™ÿ∏Ÿáÿ± ŸÅŸÇÿ∑ ÿπŸÜÿØ ÿßŸÑŸÉÿ™ÿßÿ®ÿ© ÿ£Ÿà ÿπŸÜÿØ ÿßŸÑÿ™ÿ±ŸÉŸäÿ≤ */
document.querySelectorAll(".pwd-field").forEach(field => {
    const eye = field.parentElement.querySelector(".eye-icon");

    field.addEventListener("input", () => {
        eye.classList.toggle("visible", field.value.length > 0);
    });

    field.addEventListener("focus", () => {
        if (field.value.length > 0) eye.classList.add("visible");
    });

    field.addEventListener("blur", () => {
        if (field.value.trim() === "") {
            eye.classList.remove("visible");
        }
        // ÿ•ÿ∞ÿß ŸÅŸä ŸÉŸÑŸÖÿ© ŸÖÿ±Ÿàÿ±ÿå ŸÜÿÆŸÑŸä ÿßŸÑÿπŸäŸÜ ÿ∏ÿßŸáÿ±ÿ©
    });
});



initProfilePage();

</script>
</body>
</html>
